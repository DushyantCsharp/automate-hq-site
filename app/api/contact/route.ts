import { NextResponse } from "next/server"; import { notifyContact } from "@/lib/notify";
export async function POST(req:Request){ try{ const body=await req.json(); const name=String(body.name||"").trim(); const email=String(body.email||"").trim(); const company=String(body.company||""); const useCase=String(body.useCase||""); const message=String(body.message||""); if(!name||!email){ return NextResponse.json({ok:false,error:"Missing required fields"},{status:400}); } const result=await notifyContact({name,email,company,useCase,message}); return NextResponse.json({ok:true,delivered:result}); }catch(e:any){ return NextResponse.json({ok:false,error:e?.message||"Server error"},{status:500}); } }
